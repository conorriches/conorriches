<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta data-react-helmet="true" content="/icons/mstile-310x310.png" name="msapplication-square310x310"/><meta data-react-helmet="true" content="/icons/mstile-310x150.png" name="msapplication-wide310x150"/><meta data-react-helmet="true" content="/icons/mstile-150x150.png" name="msapplication-square150x150"/><meta data-react-helmet="true" content="/icons/mstile-144x144.png" name="msapplication-square144x144"/><meta data-react-helmet="true" content="/icons/mstile-70x70.png" name="msapplication-square70x70"/><meta data-react-helmet="true" content="#fff" name="msapplication-TileColor"/><meta data-react-helmet="true" content="512" property="og:image:height"/><meta data-react-helmet="true" content="1024" property="og:image:width"/><meta data-react-helmet="true" content="https://conorriches.co.uk/blog//twitter-card.jpg" property="og:image"/><meta data-react-helmet="true" content="512" name="twitter:image:height"/><meta data-react-helmet="true" content="1024" name="twitter:image:width"/><meta data-react-helmet="true" content="https://conorriches.co.uk/blog//twitter-card.jpg" name="twitter:image"/><meta data-react-helmet="true" content="512" property="og:image:height"/><meta data-react-helmet="true" content="1024" property="og:image:width"/><meta data-react-helmet="true" content="https://conorriches.co.uk/blog//twitter-card.jpg" property="og:image"/><meta data-react-helmet="true" content="https://conorriches.co.uk/blog/" name="twitter:url"/><meta data-react-helmet="true" content="https://conorriches.co.uk/blog/" property="og:url"/><meta data-react-helmet="true" content="notes from the hackerspace" name="twitter:text:title"/><meta data-react-helmet="true" content="@gatsbyjs" name="twitter:creator"/><meta data-react-helmet="true" content="@gatsbyjs" name="twitter:site"/><meta data-react-helmet="true" content="summary_large_image" name="twitter:card"/><meta data-react-helmet="true" content="966242223397117" property="fb:app_id"/><meta data-react-helmet="true" content="notes from the hackerspace" property="og:site_name"/><meta data-react-helmet="true" content="website" property="og:type"/><meta data-react-helmet="true" content="notes from the hackerspace" name="application-name"/><meta data-react-helmet="true" content="#fff" name="theme-color"/><meta data-react-helmet="true" content="black-translucent" name="apple-mobile-web-app-status-bar-style"/><meta data-react-helmet="true" content="yes" name="apple-mobile-web-app-capable"/><meta data-react-helmet="true" content="notes from the hackerspace - a blog from cone" name="twitter:description"/><meta data-react-helmet="true" content="notes from the hackerspace - a blog from cone" property="og:description"/><meta data-react-helmet="true" content="notes from the hackerspace - a blog from cone" name="description"/><meta data-react-helmet="true" content="notes from the hackerspace" name="twitter:title"/><meta data-react-helmet="true" content="notes from the hackerspace" property="og:title"/><meta data-react-helmet="true" content="notes from the hackerspace" name="apple-mobile-web-app-title"/><meta data-react-helmet="true" content="width=device-width,initial-scale=1.0,user-scalable=yes" name="viewport"/><meta data-react-helmet="true" content="IE=edge" http-equiv="X-UA-Compatible"/><meta name="generator" content="Gatsby 4.9.2"/><style data-href="/styles.48e4c4d2bdc58b8bddeb.css" data-identity="gatsby-global-css">.Container{align-items:center;display:flex;justify-content:space-between;padding:2rem 0 0}@media(min-width:768px){.Container{padding-top:4rem}}.Container a{color:#757575;text-decoration:none;transition:color .2s ease}.Container a:hover{color:inherit}.Fade{-webkit-animation-duration:10s;-webkit-animation-iteration-count:infinite;-webkit-animation-name:MOVE-BG;-webkit-animation-timing-function:steps(15);background:#4ca1af;background:linear-gradient(90deg,#c4e0e5,#4ca1af);height:5px;width:200%}.Fade__Wrapper{height:1px;margin-top:1.2em;overflow:hidden;width:100%}.Fade__Wrapper--top{height:5px;margin-top:0;position:fixed;z-index:11}@-webkit-keyframes MOVE-BG{50%{-webkit-transform:translateX(-50%)}0%{-webkit-transform:translateX(0)}}.Fade--blue{background:#0575e6;background:linear-gradient(90deg,#021b79,#0575e6,#021b79)}.Fade--light{background:#8e2de2;background:linear-gradient(90deg,#4a00e0,#8e2de2)}.Fade--millennial{background:#fc00ff;background:linear-gradient(90deg,#00dbde,#fc00ff)}.FadeHider{background:#fff;background:linear-gradient(180deg,#fff 50%,transparent);height:14em;position:absolute;width:100%;z-index:-1}.Box{max-width:700px;padding:1rem}@media(min-width:768px){.Box{padding:2rem 4rem}}.Layout{margin:0 5%}@media(min-width:768px){.Layout{margin:0 20%}}.Layout__Main{padding:1.8em 0}.PostLink{border-left:2px solid #ff6a00;margin-bottom:.6em;transition:all .5s}.PostLink:hover{border-left:2px solid #00c9ff}.PostLink__Link{padding:.6em;text-decoration:none;vertical-align:middle}.PostLink__Date{font-size:.8em;line-height:1em;margin-bottom:.6em}.PostLink__LinkWrapper{display:flex}.PostLink__Title{color:#ee0979;font-size:1em;line-height:1.6em}@media(min-width:768px){.PostLink__Title{font-size:1.2em}}.PostLink__Excerpt{color:#000;font-size:.8em;line-height:1em}.Blog__SearchWrapper{display:flex;margin-bottom:1.8em;width:100%}.Blog__Search{border:solid #00c9ff;border-width:1px 1px 5px;color:#363795;width:100%}.BlogLink,.Blog__Search{font-size:1em;line-height:1.9em;margin-top:1em;padding:.6em}.BlogLink{background:#ee0979;background:linear-gradient(90deg,#ff6a00,#ee0979);border:0;color:#fff;display:flex;position:relative;text-decoration:none}.BlogLink .chevron{position:absolute;right:1.2em;top:1em}.BlogLink .chevron:before{border-style:solid;border-width:.25em .25em 0 0;content:"";display:inline-block;height:.45em;left:.15em;position:relative;top:.15em;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);vertical-align:top;width:.45em}.BlogLink .chevron.right:before{left:0;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.gatsby-resp-image-figure{border-bottom:1px dotted #000;width:100%}.gatsby-resp-image-figure:nth-of-type(2n){float:left;margin:0 1.5em 1em 0}.gatsby-resp-image-figure:nth-of-type(odd){float:right;margin:0 0 1em 1.5em}@media(min-width:768px){.gatsby-resp-image-figure{width:56%}}figcaption.gatsby-resp-image-figcaption{padding:.5em}code{background:#eee;color:#000;font-family:courier}table{border:1px solid blue!important;text-align:left}table td,table th{border:1px dashed purple;padding:1em}table thead{background:transparent linear-gradient(90deg,#0575e6,#021b79);color:#fff;text-align:left}</style><style data-styled="" data-styled-version="5.3.3">.ghuvjz{display:block;font-weight:500;font-size:2rem;line-height:1.2;}/*!sc*/
@media (max-width:48em){.ghuvjz{font-size:2rem;}}/*!sc*/
data-styled.g1[id="sc-bdvvtL"]{content:"ghuvjz,"}/*!sc*/
.cXposF ul{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;list-style:none;padding:0;}/*!sc*/
.cXposF ul li{text-transform:uppercase;font-size:1.3rem;}/*!sc*/
.cXposF ul li + li{margin-left:2rem;}/*!sc*/
data-styled.g2[id="sc-gsDKAQ"]{content:"cXposF,"}/*!sc*/
html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;font-size:100%;font-family:'Varela Round',sans-serif;vertical-align:baseline;}/*!sc*/
article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block;}/*!sc*/
html{font-size:62.5%;}/*!sc*/
body{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";line-height:1;font-size:1.6rem;color:#000;background-color:#fff;-webkit-text-size-adjust:100%;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeLegibility;-webkit-font-feature-settings:"pnum";font-feature-settings:"pnum";font-variant-numeric:proportional-nums;overflow-y:scroll;}/*!sc*/
h1{background:#0575e6;background:-webkit-linear-gradient( to right, #0575e6, #021b79 );background:linear-gradient( to right, #0575e6, #021b79 );-webkit-background-clip:text;-webkit-text-fill-color:transparent;}/*!sc*/
h1{font-size:2.4em;line-height:1.2em;margin:0.6em 0;}/*!sc*/
h2{font-size:1.8em;line-height:1.2em;margin:0.6em 0;}/*!sc*/
h3{font-size:1.2em;line-height:1.2em;margin:0.6em 0;}/*!sc*/
h4{font-weight:bold;line-height:1.4em;margin:0.6em 0;}/*!sc*/
ol,ul{margin-left:1.8em;}/*!sc*/
li{line-height:1.2em;}/*!sc*/
blockquote,q{quotes:none;}/*!sc*/
blockquote:before,blockquote:after,q:before,q:after{content:'';content:none;}/*!sc*/
table{border-collapse:collapse;border-spacing:0;}/*!sc*/
a{color:#0575E6;}/*!sc*/
pre{background:#eee;display:block;padding:2rem;margin-top:4rem;overflow:auto;font-size:85%;line-height:1.45;border-radius:5px;color:#0575E6;border:1px solid #ddd;background:#eee;border-left:3px solid;font-family:"SFMono-Regular",Consolas,"Liberation Mono",Menlo,Courier,monospace;}/*!sc*/
code{font-family:courier;background:#eee;display:inline-block;padding:0 0.5em;}/*!sc*/
video{max-width:100%;}/*!sc*/
p{margin-top:0.6em;margin-bottom:2.4rem;line-height:1.4em;}/*!sc*/
strong{font-weight:900;}/*!sc*/
em{font-style:italic;}/*!sc*/
data-styled.g3[id="sc-global-aaVlJ1"]{content:"sc-global-aaVlJ1,"}/*!sc*/
</style><title data-react-helmet="true">notes from the hackerspace</title><link data-react-helmet="true" href="https://fonts.googleapis.com/css?family=Varela+Round&amp;display=swap" rel="stylesheet" type="text/css"/><link data-react-helmet="true" rel="canonical" href="https://conorriches.co.uk/blog/"/><link data-react-helmet="true" href="/manifest.json" rel="manifest"/><link data-react-helmet="true" href="/icons/apple-touch-icon-57x57.png" rel="apple-touch-icon" sizes="57x57"/><link data-react-helmet="true" href="/icons/apple-touch-icon-60x60.png" rel="apple-touch-icon" sizes="60x60"/><link data-react-helmet="true" href="/icons/apple-touch-icon-72x72.png" rel="apple-touch-icon" sizes="72x72"/><link data-react-helmet="true" href="/icons/apple-touch-icon-76x76.png" rel="apple-touch-icon" sizes="76x76"/><link data-react-helmet="true" href="/icons/apple-touch-icon-114x114.png" rel="apple-touch-icon" sizes="114x114"/><link data-react-helmet="true" href="/icons/apple-touch-icon-120x120.png" rel="apple-touch-icon" sizes="120x120"/><link data-react-helmet="true" href="/icons/apple-touch-icon-144x144.png" rel="apple-touch-icon" sizes="144x144"/><link data-react-helmet="true" href="/icons/apple-touch-icon-152x152.png" rel="apple-touch-icon" sizes="152x152"/><link data-react-helmet="true" href="/icons/apple-touch-icon-167x167.png" rel="apple-touch-icon" sizes="167x167"/><link data-react-helmet="true" href="/icons/apple-touch-icon-180x180.png" rel="icon" sizes="180x180" type="image/png"/><link data-react-helmet="true" href="/icons/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png"/><link data-react-helmet="true" href="/icons/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png"/><script data-react-helmet="true" type="application/ld+json">[{"@context":"http://schema.org","@type":"WebSite","url":"https://conorriches.co.uk/blog/birdwatching/","name":"notes from the hackerspace","alternateName":"notes from the hackerspace"}]</script><script data-react-helmet="true" type="application/ld+json">[{"@context":"http://schema.org","@type":"WebSite","url":"https://conorriches.co.uk/blog/","name":"notes from the hackerspace","alternateName":"notes from the hackerspace"}]</script><link rel="sitemap" type="application/xml" href="/sitemap/sitemap-index.xml"/><link as="script" rel="preload" href="/webpack-runtime-7ac4eee008fc3faab8f8.js"/><link as="script" rel="preload" href="/framework-e915d9de464aff215b81.js"/><link as="script" rel="preload" href="/app-09f5a5d8f02f5d4891e1.js"/><link as="script" rel="preload" href="/c51c6ee4d4abaee930c3281d92f281b51f89c984-45be669bf8ebaaefb991.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-js-7126215443361850fc33.js"/><link as="fetch" rel="preload" href="/page-data/blog/birdwatching/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/3682878853.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/3729204765.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div><div><div class="Fade__Wrapper Fade__Wrapper--top"><div class="Fade Fade--millennial"></div></div><div class="Layout"><div><div class="Container"><a href="/"><h1 class="sc-bdvvtL ghuvjz">notes from the hackerspace</h1></a><nav class="sc-gsDKAQ cXposF"><ul><li><a href="/about">About</a></li><li><a href="/blog">Blog</a></li></ul></nav></div><div class="Fade__Wrapper"><div class="Fade Fade--millennial"></div></div></div><div class="Layout__Main"><div><small></small><h1>BirbCam - Automatic Birdwatching with Raspberry Pi HQ Camera</h1><div><p>Let's face it, birdwatching takes time. A <strong>whole lot</strong> of time.</p>
<p>Annoyingly for us, birds have evolved not make appearances when there's a big mammal eagerly waiting for them, so what better to do than to automate the hell out of it? Raspberry Pi's rarely move by their own accord, so they're perfect for setting up without spooking wildlife.</p>
<h2>Project overview</h2>
<p><figure class="gatsby-resp-image-figure" style="">
    <span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/23c9669aaa8fbf1c3f265fd5a855bef3/eea4a/blue.jpg"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAMEAQL/xAAWAQEBAQAAAAAAAAAAAAAAAAABAAL/2gAMAwEAAhADEAAAAZutYZlHE//EABkQAAMAAwAAAAAAAAAAAAAAAAABAgMSIv/aAAgBAQABBQIcjoTW+Z9zKs//xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAwEBPwFX/8QAFhEBAQEAAAAAAAAAAAAAAAAAABES/9oACAECAQE/AYy//8QAGRAAAgMBAAAAAAAAAAAAAAAAABEBAiEQ/9oACAEBAAY/Au7GDqNn/8QAGxAAAwEAAwEAAAAAAAAAAAAAAAERITFRYaH/2gAIAQEAAT8hiXaGRY7LwOu1M+AjZT0Rl//aAAwDAQACAAMAAAAQND//xAAWEQADAAAAAAAAAAAAAAAAAAABEBH/2gAIAQMBAT8QFX//xAAYEQADAQEAAAAAAAAAAAAAAAAAARExcf/aAAgBAgEBPxBJFdOD/8QAGxABAAMBAQEBAAAAAAAAAAAAAQARITFBUXH/2gAIAQEAAT8QGCAV+zS8JVF+zDoOkFSwha92KWBs0+HOxSwK6I9n/9k='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="A bluetit, caught with the Raspberry Pi HQ camera"
        title="A bluetit, caught with the Raspberry Pi HQ camera"
        src="/static/23c9669aaa8fbf1c3f265fd5a855bef3/1c72d/blue.jpg"
        srcset="/static/23c9669aaa8fbf1c3f265fd5a855bef3/a80bd/blue.jpg 148w,
/static/23c9669aaa8fbf1c3f265fd5a855bef3/1c91a/blue.jpg 295w,
/static/23c9669aaa8fbf1c3f265fd5a855bef3/1c72d/blue.jpg 590w,
/static/23c9669aaa8fbf1c3f265fd5a855bef3/a8a14/blue.jpg 885w,
/static/23c9669aaa8fbf1c3f265fd5a855bef3/fbd2c/blue.jpg 1180w,
/static/23c9669aaa8fbf1c3f265fd5a855bef3/eea4a/blue.jpg 1280w"
        sizes="(max-width: 590px) 100vw, 590px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span>
    <figcaption class="gatsby-resp-image-figcaption">A bluetit, caught with the Raspberry Pi HQ camera</figcaption>
  </figure></p>
<p>We are going to use a Raspberry Pi with an HQ Camera, paired with TensorFlow Lite machine learning to identify when there's a bird in front of the camera, and take a photo when it sees one. Optionally, we can use a touchscreen to make the process of using the camera much easier.</p>
<p>The Raspberry Pi HQ camera lens has a fixed focus, so it should be focused on a set point, such as a birdbath, feeder, or table where birds are likely to visit when left alone. You can also just leave the birbcam on the (dry) grass and place some seed in front of it and you'll be sure to attract at least a pigeon.</p>
<p>We are going to use the new <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#libcamera-and-libcamera-apps">libcamera</a> stack - so make sure you have a recent version of Raspberry Pi OS installed and everything is up to date.</p>
<div style="clear:both"></div>
<h2>Parts required</h2>
<ul>
<li>A Raspberry Pi, with up-to-date OS, connected to</li>
<li>Pi HQ Camera, with a</li>
<li>16mm lens, mounted on a</li>
<li>tripod</li>
<li>optionally, a <a href="https://thepihut.com/products/3-5-ips-dpi-capacitive-touchscreen-display-for-raspberry-pi">touchscreen display</a> (more on this later)</li>
</ul>
<p>There's no coding needed to get it up and running, but some proficiency with Raspberry Pi will come in handy.</p>
<p><strong>Note: You don't need to use the HQ camera if you're on a budget - a standard camera module will functionally work the same, just not the same photo quality!</strong></p>
<h2>Prerequisites</h2>
<p>This guide doesn't cover everything, so here's some good things to start with:</p>
<ul>
<li><a href="https://www.raspberrypi.com/software/">Setting up a Raspberry Pi</a></li>
<li><a href="https://www.raspberrypi.com/documentation/accessories/camera.html#installing-a-raspberry-pi-camera">Installing a Raspberry Pi camera</a></li>
<li><a href="https://roboticsbackend.com/enable-ssh-on-raspberry-pi-raspbian/">Enabling ssh</a></li>
<li>Basic linux commands</li>
</ul>
<hr>
<h2>Step Zero - Optional - Get the touchscreen working</h2>
<p>I chose a 3.5inch display which plugs into the 40 pin GPIO header as we won't be using the GPIO for anything else and it means the entire camera and screen construction will nicely hold together as one piece. We've essentially just made a really fancy digital camera!</p>
<p><figure class="gatsby-resp-image-figure" style="">
    <span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 570px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/5596a2dd780efcb287cf1797506bb30e/882a4/screen.jpg"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGQABAQADAQAAAAAAAAAAAAAAAAQBAgMF/8QAFgEBAQEAAAAAAAAAAAAAAAAAAAIB/9oADAMBAAIQAxAAAAHvjnVuea1SriJq8H//xAAZEAEAAwEBAAAAAAAAAAAAAAACAAEDEiL/2gAIAQEAAQUC7dz2onZWTIlPO5ZdvTIKHI9DOhX/xAAXEQEAAwAAAAAAAAAAAAAAAAABABAh/9oACAEDAQE/AYOX/8QAFREBAQAAAAAAAAAAAAAAAAAAASD/2gAIAQIBAT8BI//EAB0QAAICAQUAAAAAAAAAAAAAAAARAQISMUFCkbH/2gAIAQEABj8CnHwU5dihotW1uRqWU7jQhQf/xAAcEAADAQACAwAAAAAAAAAAAAABESEAMVGhweH/2gAIAQEAAT8hcJjU/rFCCB5kescCRw6phqggliLDvrTAWOCrvEkQ86kLad//2gAMAwEAAgADAAAAEHTIgP/EABcRAQEBAQAAAAAAAAAAAAAAAAERABD/2gAIAQMBAT8QWZ4o9//EABcRAQEBAQAAAAAAAAAAAAAAAAEAERD/2gAIAQIBAT8QBIbbz//EAB4QAQACAgIDAQAAAAAAAAAAAAEAESFRMUFhccGR/9oACAEBAAE/EAYhcA3Q9q14jYaaGWaxCGtIE8TFw4WaNYhFqXpK7BQ210fKih98oAWN1rYhPyL7YrZG+Pk//9k='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="The 3.5&quot; DPI Display working on the Pi - not required but makes it way easier!"
        title="The 3.5&quot; DPI Display working on the Pi - not required but makes it way easier!"
        src="/static/5596a2dd780efcb287cf1797506bb30e/882a4/screen.jpg"
        srcset="/static/5596a2dd780efcb287cf1797506bb30e/a80bd/screen.jpg 148w,
/static/5596a2dd780efcb287cf1797506bb30e/1c91a/screen.jpg 295w,
/static/5596a2dd780efcb287cf1797506bb30e/882a4/screen.jpg 570w"
        sizes="(max-width: 570px) 100vw, 570px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span>
    <figcaption class="gatsby-resp-image-figcaption">The 3.5&quot; DPI Display working on the Pi - not required but makes it way easier!</figcaption>
  </figure></p>
<p>Getting the touchscreen working relies on following manufacturer guidelines, for <a href="https://thepihut.com/products/3-5-ips-dpi-capacitive-touchscreen-display-for-raspberry-pi">the one I'm using</a>, I followed <a href="https://www.waveshare.com/wiki/3.5inch_DPI_LCD">the instructions on their Wiki</a>.</p>
<p>I found the screen was extremely dim, so followed their advice on setting brightness to maximum using PWM. I found the screen kept resetting to the dim brightness on reboot, so I saved the command inside of <code>/etc/rc.local</code> which gets run on boot and will auto-set brightness every time:</p>
<ul>
<li>Run <code>sudo nano /etc/rc.local</code> to edit the file</li>
<li>Enter <code>gpio -g pwm 18 100</code> <strong>before</strong> the line saying <code>exit 0</code></li>
</ul>
<h3>Making the screen comfortable to use</h3>
<p>Things will be tiny, so let's make them more usable!</p>
<ul>
<li>Using the Main Menu (Raspberry Pi logo top left of the screen), select Preferences, Appearance Settings.</li>
<li>Select the Defaults tab</li>
<li>Select the Small Screens option, and everything should resize nicely!</li>
</ul>
<div style="clear:both"></div>
<h2>Step one - get the camera working and set up</h2>
<p>The main bit of the project is the camera, so install the HQ camera module as per the guidance, and boot the Raspberry Pi.
<figure class="gatsby-resp-image-figure" style="">
    <span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/d9fea988834fadb2bff7bd72e909ef2d/72e01/water.jpg"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAMBBP/EABYBAQEBAAAAAAAAAAAAAAAAAAIBA//aAAwDAQACEAMQAAABmnhtHCWf/8QAGxAAAgIDAQAAAAAAAAAAAAAAAAIREgETFCH/2gAIAQEAAQUCkZYWrG1MHR5aT//EABcRAAMBAAAAAAAAAAAAAAAAAAEDEGH/2gAIAQMBAT8BK9n/xAAVEQEBAAAAAAAAAAAAAAAAAAABEP/aAAgBAgEBPwEZ/8QAGhAAAgIDAAAAAAAAAAAAAAAAAAECERAhkf/aAAgBAQAGPwITxqylHpbbP//EABoQAAMBAQEBAAAAAAAAAAAAAAABESFRMbH/2gAIAQEAAT8htx+vTbE69V1FUn9aOpMQOitpT//aAAwDAQACAAMAAAAQpz//xAAWEQADAAAAAAAAAAAAAAAAAAAAASH/2gAIAQMBAT8QQqKf/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAERQf/aAAgBAgEBPxDBoh//xAAdEAEAAgICAwAAAAAAAAAAAAABABEhgTFRYaHB/9oACAEBAAE/EFniC4vqIS+sOg2xKAcc3PcWYaj6xGN7yA1qovWfBKwbn//Z'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="bird.exe has stopped unexpectedly"
        title="bird.exe has stopped unexpectedly"
        src="/static/d9fea988834fadb2bff7bd72e909ef2d/1c72d/water.jpg"
        srcset="/static/d9fea988834fadb2bff7bd72e909ef2d/a80bd/water.jpg 148w,
/static/d9fea988834fadb2bff7bd72e909ef2d/1c91a/water.jpg 295w,
/static/d9fea988834fadb2bff7bd72e909ef2d/1c72d/water.jpg 590w,
/static/d9fea988834fadb2bff7bd72e909ef2d/a8a14/water.jpg 885w,
/static/d9fea988834fadb2bff7bd72e909ef2d/72e01/water.jpg 1024w"
        sizes="(max-width: 590px) 100vw, 590px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span>
    <figcaption class="gatsby-resp-image-figcaption">bird.exe has stopped unexpectedly</figcaption>
  </figure></p>
<p>If you don't have a touchscreen, plug in a monitor, mouse and keyboard to the Pi so we can test if the camera works.</p>
<p>To do this, use the pre-installed
<a href="https://www.raspberrypi.com/documentation/accessories/camera.html#libcamera-hello">libcamera-hello</a> by running <code>libcamera-hello -t 0</code></p>
<ul>
<li>This will indefinitely show the camera output to the desktop screen</li>
<li>Play with the camera!</li>
<li>This is a really fun time to see how the lens works, play with adjustment, focus, light levels etc.</li>
</ul>
<p>Save the captured image by running <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#libcamera-jpeg">libcamera-jpeg</a> by running <code>libcamera-jpeg -o test.jpg</code>. Practice taking photos and viewing the saved image on the Pi.</p>
<div style="clear:both"></div>
<h3>Copying images from the Pi to another device</h3>
<p>To really enjoy and share the photos you take with <code>libcamera-jpeg</code> you'll want to copy them to your computer or device.</p>
<h3>Backup to the cloud</h3>
<p><code>rsync</code> is a really useful tool to sync files from one place to another. You can then use <code>rclone</code> to push photos to places like Google Drive or Dropbox.
Follow the guide here on getting <code>rsync</code> and <code>rclone</code> set up:
<a href="https://raspberrypi-guide.github.io/filesharing/file-synchronisation-rsync-rclone#uploading-data-to-the-cloud">https://raspberrypi-guide.github.io/filesharing/file-synchronisation-rsync-rclone#uploading-data-to-the-cloud</a></p>
<h3>Locally transferring photos over FTP</h3>
<p>You'll need the Pi and other device connected to the same WiFi router, have SSH enabled on the Pi, and a client on your other device:</p>
<ul>
<li>On PC, you can install FileZilla</li>
<li>On mobile, you can install a SSH/SFTP app</li>
</ul>
<p>Once installed:</p>
<ul>
<li>Set up a connection to the Pi using the <a href="https://www.techworked.com/find-ip-address-of-headless-raspberry-pi/">Raspberry Pi's IP address</a>. The username/password is the same as when you SSH into the Pi, default is <code>pi</code> / <code>raspberry</code></li>
<li>Select SFTP</li>
<li>You should see a file listing when you connect</li>
</ul>
<p>Practice copying over photos, it's a bit manual but you're now up and running.</p>
<h3>Manually doing it with SCP</h3>
<p>If you don't want to pull photos and instead want to push them, you can use <code>scp</code> to <strong>s</strong>ecurely <strong>c</strong>o<strong>p</strong>y photos from the Pi to another device.</p>
<h2>Step two - install TensorFlow Lite</h2>
<p>The Raspberry Pi camera is more like a video camera than a still camera, so we need a way to trigger the script to take static photographs. Instead of using general motion detection, we will specifically detect birds so we don't need to filter through thousands of images of leaves moving.</p>
<p>The first step is to <a href="https://lindevs.com/install-precompiled-tensorflow-lite-on-raspberry-pi/">install TensorFlow Lite following the instructions</a>.</p>
<p>TensorFlow Lite is based on machine learning and can be used to identify when there's a bird in front of the camera. It doesn't know what a bird is yet, but we can later on give it some models that describe the concept of a bird, and it'll be able to do the magic needed to then use those models to say when it can see a bird.</p>
<h2>Step three - detection software with libcamera-apps</h2>
<p>As you'll have seen, <code>libcamera-apps</code> come pre-installed with Raspberry Pi OS, so we can just use <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#libcamera-detect">libcamera-detect</a> to open the camera up, and plug into TensorFlow Lite to identify when a bird is on screen.</p>
<p>While <code>libcamera-apps</code> comes with the OS, <code>libcamera-detect</code> does not come pre-built so we will need to build it, folding in our now-installed TensorFlow Lite installation.</p>
<ul>
<li>
<p>Rebuild libcamera-apps</p>
<ul>
<li>Start by <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#building-libcamera-and-libcamera-apps">rebuilding libcamera-apps without libcamera</a></li>
<li>Run <code>sudo apt install -y libcamera-dev libepoxy-dev libjpeg-dev libtiff5-dev</code></li>
</ul>
</li>
<li>
<p>Make sure you continue on to build <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#building-libcamera-apps">libcamera-apps</a></p>
<p>Install the dependencies: <code>sudo apt install -y cmake libboost-program-options-dev libdrm-dev libexif-dev</code></p>
<p>Then you'll need to get prepared to build by downloading the code for <code>libcamera-apps</code>:</p>
<pre><code>cd
git clone https://github.com/raspberrypi/libcamera-apps.git
cd libcamera-apps
mkdir build
cd build
</code></pre>
</li>
<li>
<p>Build it real good</p>
<ul>
<li>Run the command:</li>
</ul>
</li>
</ul>
<p><code>cmake .. -DENABLE_DRM=1 -DENABLE_X11=1 -DENABLE_QT=1 -DENABLE_OPENCV=0 -DENABLE_TFLITE=1</code></p>
<ul>
<li>This last flag means that your installed TensorFlow Lite is enabled with the build, meaning that <code>libcamera-detect</code> will be able to use it.</li>
<li>Finish the process off
<pre><code>make -j4  # use -j1 on Pi 3 or earlier devices
sudo make install
sudo ldconfig
</code></pre>
</li>
</ul>
<p>Breathe - that's the tricky part done!</p>
<h2>Step Four - when is a bird a bird?</h2>
<p>So far we have most of the pieces in place but the software still doesn't know what a bird is.
<figure class="gatsby-resp-image-figure" style="">
    <span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/ad3fd60729ead300e644e1deb21fb5d6/9100a/camera.jpg"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 77.02702702702703%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAQBAwX/xAAVAQEBAAAAAAAAAAAAAAAAAAABAv/aAAwDAQACEAMQAAABWlcTYLip/8QAGxAAAgMAAwAAAAAAAAAAAAAAAQIAAwQREiL/2gAIAQEAAQUCOhg2U+iol6hLaupfif/EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAEDAQE/AUf/xAAWEQEBAQAAAAAAAAAAAAAAAAAAARL/2gAIAQIBAT8BjT//xAAaEAEAAgMBAAAAAAAAAAAAAAABAAIRITFB/9oACAEBAAY/AnOLPIjNMankqWU3Oz//xAAbEAADAAIDAAAAAAAAAAAAAAAAAREhYTFB0f/aAAgBAQABPyHZ6BWHSeYUdA5NvYvBRxm+Ej//2gAMAwEAAgADAAAAEHjf/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAERUf/aAAgBAwEBPxBql4f/xAAXEQADAQAAAAAAAAAAAAAAAAAAARFR/9oACAECAQE/EGiI0//EAB4QAQADAAICAwAAAAAAAAAAAAEAESExYVFxgcHw/9oACAEBAAE/ECmorGrpfHuKyiAxXjn6g2W9iH4wb3LqWsKjAd4fjFVUHwz/2Q=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="The setup using a Pi mount on the tripod"
        title="The setup using a Pi mount on the tripod"
        src="/static/ad3fd60729ead300e644e1deb21fb5d6/1c72d/camera.jpg"
        srcset="/static/ad3fd60729ead300e644e1deb21fb5d6/a80bd/camera.jpg 148w,
/static/ad3fd60729ead300e644e1deb21fb5d6/1c91a/camera.jpg 295w,
/static/ad3fd60729ead300e644e1deb21fb5d6/1c72d/camera.jpg 590w,
/static/ad3fd60729ead300e644e1deb21fb5d6/a8a14/camera.jpg 885w,
/static/ad3fd60729ead300e644e1deb21fb5d6/9100a/camera.jpg 959w"
        sizes="(max-width: 590px) 100vw, 590px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span>
    <figcaption class="gatsby-resp-image-figcaption">The setup using a Pi mount on the tripod</figcaption>
  </figure></p>
<p>Therefore, we need a model which describes what a bird is, and fortunately the hard work is done for us as online there exists a library of common objects which has pre-trained models which we can download.</p>
<p><a href="https://cocodataset.org">Common Objects In Context</a> (COCO) is a machine learning dataset of common objects (including birds) that we can use without having to train up our own model of a bird. From exploring the dataset, it looks like it will work perfectly.</p>
<p>For example, this image has multiple items identified:
<a href="https://cocodataset.org/#explore?id=12805">https://cocodataset.org/#explore?id=12805</a></p>
<p>The context is nothing if not diverse either:
<a href="https://cocodataset.org/#explore?id=43511">https://cocodataset.org/#explore?id=43511</a></p>
<p>You'll want to download the models and labels file somewhere sensible, I've put them in <code>/home/pi/models</code>:
<a href="https://github.com/EdjeElectronics/TensorFlow-Lite-Object-Detection-on-Android-and-Raspberry-Pi/blob/master/Raspberry_Pi_Guide.md#option-1-using-googles-sample-tflite-model">Follow the instructions here</a></p>
<p>Create a file called <code>object_detect_tf.json</code> and paste the following in:</p>
<pre><code>{
    "object_detect_tf":
    {
        "number_of_threads" : 2,
        "refresh_rate" : 10,
        "confidence_threshold" : 0.5,
        "overlap_threshold" : 0.5,
        "model_file" : "/home/pi/models/coco_ssd_mobilenet_v1_1.0_quant_2018_06_29/detect.tflite",
        "labels_file" : "/home/pi/models/coco_ssd_mobilenet_v1_1.0_quant_2018_06_29/labelmap.txt",
        "verbose" : 1
    }
}
</code></pre>
<p>This will be used as a "post process file", which means that it's used when the camera is running. It has a model and labels file, so it can understand what it sees and match it up with a label. There are some parameters which you can play with, but these worked well for me.</p>
<h2>Step Five - let's go!</h2>
<p>So far we have:</p>
<ul>
<li>Installed a camera and checked it works</li>
<li>Copied photos over to another device for viewing</li>
<li>Installed TensorFlow Lite which does the fancy object detection bit</li>
<li>Built <code>libcamera-detect</code> which connects to the camera and runs the output through TensorFlow Lite</li>
</ul>
<p>We will now run the command that will:</p>
<ul>
<li>start the camera</li>
<li>start watching for birds</li>
<li>take a photo when one is identified</li>
</ul>
<p>That's done by running the following command:
<code>libcamera-detect -t 0 -o ~/birb%04d.jpg --lores-width 400 --lores-height 300 --post-process-file object_detect_tf.json --info-text "Detecting Birds!" --object bird</code></p>
<p>You can tweak the parameters by looking at <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#libcamera-detect">the libcamera-detect docs</a> and <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#common-command-line-options">common command line options</a>:</p>
<ul>
<li><code>-t 0</code>
<ul>
<li>time is zero</li>
</ul>
</li>
<li><code>-o birb%04d.jpg</code>
<ul>
<li>Output file is a 4 digit number that increments. This means you don't have to manually name each image - it does it for you. <strong>Note:</strong> the counter resets from 0 when you run the script so will overwrite images with the same name.</li>
</ul>
</li>
<li><code>--lores-width</code>/<code>--lores-height</code>
<ul>
<li>This is the image sized used by TensorFlow to detect birds. When it recognises a bird, it'll then take a full scale photo.</li>
</ul>
</li>
<li><code>--post-process-file object_detect_tf.json</code>
<ul>
<li>we are telling it what to do</li>
</ul>
</li>
<li><code>--info-text Detecting</code>
<ul>
<li>Shows in the info bar title on the window so we can see it's working</li>
</ul>
</li>
<li>--object bird
<ul>
<li>telling it what to look out for! You can find more labels in the labels file if you want to spot other things</li>
</ul>
</li>
</ul>
<h2>Step Six - Optional - Touchscreen shortcuts</h2>
<p>If you have a touchscreen, you can use desktop shortcuts to run commands such as</p>
<ul>
<li><code>libcamera-hello -t 30</code> as a viewfinder and way of setting focus when on site</li>
<li><code>libcamera-detect ...</code> to run the program!</li>
</ul>
<h3>Creating desktop shortcuts</h3>
<ul>
<li>Navigate to the Desktop directory <code>cd ~/Desktop</code> - anything here will show up</li>
<li>Create a file for the Viewfinder script: <code>nano Viewfinder.desktop</code></li>
<li>Paste into it:
<pre><code>[Desktop Entry]
Comment=Preview
Terminal=true
Name=Viewfinder
Exec=libcamera-hello -t 30000
Type=Application
Icon=/usr/share/raspberrypi-artwork/raspberry-pi-logo-small.png
</code></pre>
</li>
<li>Make them run with one press
<ul>
<li>Open the file browser</li>
<li>Edit menu -> Preferences</li>
<li>Select the first checkbox "Open files with single click"</li>
<li>Select the option lower down not to ask options when opening executables</li>
</ul>
</li>
</ul>
<p>Now do the same for <code>libcamera-detect</code>!</p>
<p>You now have two icons on the Desktop which when pressed will run the viewfinder and run teh script respectively!</p>
<h2>Tips on using the camera</h2>
<ul>
<li>Use a good tripod so the camera is steady and resistant to any wind you'll likely get - you don't want it falling over!</li>
<li>The screws that came with the <a href="https://thepihut.com/products/mounting-plate-for-high-quality-camera?variant=31867507114046">mounting plate for the HQ camera</a> are plastic, and I was really disappointed when they failed - so maybe upgrade to some brass screws and standoffs - these can be found anywhere online.</li>
<li>Focus the camera on a specific point, maybe a pile of seed. This will ensure they're in best focus.</li>
<li>Most of all, have fun!</li>
<li>Share your photos!</li>
</ul>
<h2>Future steps...</h2>
<p>This is just the start of a much bigger project - what we have done here works with really good results.</p>
<p>How about:</p>
<ul>
<li>Making it post to Telegram when a bird is identified?</li>
<li>Making this setup work as a security camera (hint: set <code>--object person</code>)</li>
<li>Recording a short video when a bird is detected
<ul>
<li>How about getting it to pre-record 5s before?</li>
</ul>
</li>
<li>Auto-cropping the image with the bird in the centre?</li>
<li>Using OpenCV to draw on the images</li>
<li>Could it detect the species of bird and name the file?</li>
</ul>
<p>There's also a load of other options on the utilities above to play around with.</p>
<p>And this is all without having to write a script!</p>
<p><strong>Happy birdwatching!</strong></p></div></div></div></div></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/blog/birdwatching/";window.___webpackCompilationHash="2ac56ddcdb81adf2df8c";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-b3a354b3920be8735902.js"],"app":["/app-09f5a5d8f02f5d4891e1.js"],"component---cache-caches-gatsby-plugin-offline-app-shell-js":["/component---cache-caches-gatsby-plugin-offline-app-shell-js-5f721c8ab0614a49306d.js"],"component---src-pages-404-js":["/component---src-pages-404-js-413fc8a791f45a52533b.js"],"component---src-pages-about-js":["/component---src-pages-about-js-f59b58093c725757f7c7.js"],"component---src-pages-blog-js":["/component---src-pages-blog-js-718797fe4d3e36253135.js"],"component---src-pages-index-js":["/component---src-pages-index-js-cecd8566f9a61d7a582a.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-7126215443361850fc33.js"]};/*]]>*/</script><script src="/polyfill-b3a354b3920be8735902.js" nomodule=""></script><script src="/component---src-templates-blog-post-js-7126215443361850fc33.js" async=""></script><script src="/c51c6ee4d4abaee930c3281d92f281b51f89c984-45be669bf8ebaaefb991.js" async=""></script><script src="/app-09f5a5d8f02f5d4891e1.js" async=""></script><script src="/framework-e915d9de464aff215b81.js" async=""></script><script src="/webpack-runtime-7ac4eee008fc3faab8f8.js" async=""></script></body></html>