<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.d22eedf86c92ec975126.css" id="gatsby-global-css">.Container{display:flex;justify-content:space-between;align-items:center;padding:2rem 0 0}@media (min-width:768px){.Container{padding-top:4rem}}.Container a{color:#757575;transition:color .2s ease;text-decoration:none}.Container a:hover{color:inherit}.Fade{width:200%;height:5px;background:#4ca1af;background:linear-gradient(90deg,#c4e0e5,#4ca1af);-webkit-animation-name:MOVE-BG;-webkit-animation-duration:10s;-webkit-animation-timing-function:steps(15);-webkit-animation-iteration-count:infinite}.Fade__Wrapper{height:1px;width:100%;overflow:hidden;margin-top:1.2em}.Fade__Wrapper--top{margin-top:0;height:5px;position:fixed;z-index:11}@-webkit-keyframes MOVE-BG{50%{-webkit-transform:translateX(-50%)}0%{-webkit-transform:translateX(0)}}.Fade--blue{background:#0575e6;background:linear-gradient(90deg,#021b79,#0575e6,#021b79)}.Fade--light{background:#8e2de2;background:linear-gradient(90deg,#4a00e0,#8e2de2)}.Fade--millennial{background:#fc00ff;background:linear-gradient(90deg,#00dbde,#fc00ff)}.FadeHider{width:100%;height:14em;background:#fff;background:linear-gradient(180deg,#fff 50%,transparent);position:absolute;z-index:-1}.Box{padding:1rem;max-width:700px}@media (min-width:768px){.Box{padding:2rem 4rem}}.Layout{margin:0 5%}@media (min-width:768px){.Layout{margin:0 20%}}.Layout__Main{padding:1.8em 0}.BlogLink{position:relative;background:#ee0979;background:linear-gradient(90deg,#ff6a00,#ee0979);font-size:1em;margin-top:1em;line-height:1.9em;color:#fff;padding:.6em;border:0;text-decoration:none;display:flex}.BlogLink .chevron{right:1.2em;top:1em;position:absolute}.BlogLink .chevron:before{border-style:solid;border-width:.25em .25em 0 0;content:"";display:inline-block;height:.45em;left:.15em;position:relative;top:.15em;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);vertical-align:top;width:.45em}.BlogLink .chevron.right:before{left:0;-webkit-transform:rotate(45deg);transform:rotate(45deg)}figure.gatsby-resp-image-figure{border-bottom:1px dotted #000;width:100%}figure.gatsby-resp-image-figure:nth-child(2n){margin:0 1.5em 1em 0;float:left}figure.gatsby-resp-image-figure:nth-child(odd){float:right;margin:0 0 1em 1.5em}@media (min-width:768px){figure.gatsby-resp-image-figure{width:56%}}figcaption.gatsby-resp-image-figcaption{padding:.5em}code{font-family:courier;background:#fafafa}.PostLink{border-left:2px solid #ff6a00;margin-bottom:.6em}.PostLink__Link{padding:.6em;text-decoration:none;vertical-align:middle}.PostLink__LinkWrapper{display:flex}.PostLink__Title{color:#ee0979;font-size:1em;line-height:1.6em}@media (min-width:768px){.PostLink__Title{font-size:1.2em}}.PostLink__Excerpt{color:#000;font-size:.8em;line-height:1em}.Blog__SearchWrapper{width:100%;display:flex;margin-bottom:1.8em}.Blog__Search{border:solid #00c9ff;border-width:1px 1px 5px;font-size:1em;margin-top:1em;line-height:1.9em;color:#363795;padding:.6em;width:100%}</style><meta name="generator" content="Gatsby 2.32.13"/><style data-styled="hPECmK ilEOJA" data-styled-version="4.4.1">
/* sc-component-id: sc-bdVaJa */
.hPECmK{display:block;font-weight:500;font-size:2rem;line-height:1.2;} @media (max-width:48em){.hPECmK{font-size:2rem;}}
/* sc-component-id: sc-bwzfXH */
.ilEOJA ul{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;list-style:none;padding:0;} .ilEOJA ul li{text-transform:uppercase;font-size:1.3rem;} .ilEOJA ul li + li{margin-left:2rem;}
/* sc-component-id: sc-global-246447190 */
@import url('https://fonts.googleapis.com/css?family=Varela+Round&display=swap'); html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;font-size:100%;font-family:'Varela Round',sans-serif;vertical-align:baseline;} article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block;} html{font-size:62.5%;} body{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";line-height:1;font-size:1.6rem;color:#000;background-color:#fff;-webkit-text-size-adjust:100%;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeLegibility;-webkit-font-feature-settings:"pnum";font-feature-settings:"pnum";font-variant-numeric:proportional-nums;overflow-y:scroll;} h1{background:#0575e6;background:-webkit-linear-gradient( to right, #0575e6, #021b79 );background:linear-gradient( to right, #0575e6, #021b79 );-webkit-background-clip:text;-webkit-text-fill-color:transparent;} h1{font-size:2.4em;line-height:1.2em;margin:0.6em 0;} h2{font-size:1.8em;line-height:1.2em;margin:0.6em 0;} h3{font-size:1.2em;line-height:1.2em;margin:0.6em 0;} h4{font-weight:bold;line-height:1.4em;margin:0.6em 0;} ol,ul{margin-left:1.8em;} li{line-height:1.2em;} blockquote,q{quotes:none;} blockquote:before,blockquote:after,q:before,q:after{content:'';content:none;} table{border-collapse:collapse;border-spacing:0;} a{color:#0575E6;} pre{display:block;padding:2rem;margin-top:4rem;overflow:auto;font-size:85%;line-height:1.45;border-radius:5px;color:#0575E6;border:1px solid #ddd;font-family:"SFMono-Regular",Consolas,"Liberation Mono",Menlo,Courier,monospace;} video{max-width:100%;} p{margin-top:0.6em;margin-bottom:2.4rem;line-height:1.4em;} strong{font-weight:900;} em{font-style:italic;}</style><title data-react-helmet="true">notes from the hackerspace</title><link data-react-helmet="true" rel="canonical" href="https://conorriches.co.uk/blog/birdwatching/"/><link data-react-helmet="true" href="/manifest.json" rel="manifest"/><link data-react-helmet="true" href="/icons/apple-touch-icon-57x57.png" rel="apple-touch-icon" sizes="57x57"/><link data-react-helmet="true" href="/icons/apple-touch-icon-60x60.png" rel="apple-touch-icon" sizes="60x60"/><link data-react-helmet="true" href="/icons/apple-touch-icon-72x72.png" rel="apple-touch-icon" sizes="72x72"/><link data-react-helmet="true" href="/icons/apple-touch-icon-76x76.png" rel="apple-touch-icon" sizes="76x76"/><link data-react-helmet="true" href="/icons/apple-touch-icon-114x114.png" rel="apple-touch-icon" sizes="114x114"/><link data-react-helmet="true" href="/icons/apple-touch-icon-120x120.png" rel="apple-touch-icon" sizes="120x120"/><link data-react-helmet="true" href="/icons/apple-touch-icon-144x144.png" rel="apple-touch-icon" sizes="144x144"/><link data-react-helmet="true" href="/icons/apple-touch-icon-152x152.png" rel="apple-touch-icon" sizes="152x152"/><link data-react-helmet="true" href="/icons/apple-touch-icon-167x167.png" rel="apple-touch-icon" sizes="167x167"/><link data-react-helmet="true" href="/icons/apple-touch-icon-180x180.png" rel="icon" sizes="180x180" type="image/png"/><link data-react-helmet="true" href="/icons/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png"/><link data-react-helmet="true" href="/icons/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png"/><meta data-react-helmet="true" content="IE=edge" http-equiv="X-UA-Compatible"/><meta data-react-helmet="true" content="width=device-width,initial-scale=1.0,user-scalable=yes" name="viewport"/><meta data-react-helmet="true" content="notes from the hackerspace" name="apple-mobile-web-app-title"/><meta data-react-helmet="true" content="notes from the hackerspace" property="og:title"/><meta data-react-helmet="true" content="notes from the hackerspace" name="twitter:title"/><meta data-react-helmet="true" content="notes from the hackerspace - a blog from cone" name="description"/><meta data-react-helmet="true" content="notes from the hackerspace - a blog from cone" property="og:description"/><meta data-react-helmet="true" content="notes from the hackerspace - a blog from cone" name="twitter:description"/><meta data-react-helmet="true" content="yes" name="apple-mobile-web-app-capable"/><meta data-react-helmet="true" content="black-translucent" name="apple-mobile-web-app-status-bar-style"/><meta data-react-helmet="true" content="#fff" name="theme-color"/><meta data-react-helmet="true" content="notes from the hackerspace" name="application-name"/><meta data-react-helmet="true" content="website" property="og:type"/><meta data-react-helmet="true" content="notes from the hackerspace" property="og:site_name"/><meta data-react-helmet="true" content="966242223397117" property="fb:app_id"/><meta data-react-helmet="true" content="summary_large_image" name="twitter:card"/><meta data-react-helmet="true" content="@gatsbyjs" name="twitter:site"/><meta data-react-helmet="true" content="@gatsbyjs" name="twitter:creator"/><meta data-react-helmet="true" content="notes from the hackerspace" name="twitter:text:title"/><meta data-react-helmet="true" content="https://conorriches.co.uk/blog/birdwatching/" property="og:url"/><meta data-react-helmet="true" content="https://conorriches.co.uk/blog/birdwatching/" name="twitter:url"/><meta data-react-helmet="true" content="https://conorriches.co.uk/social.png" property="og:image"/><meta data-react-helmet="true" content="1024" property="og:image:width"/><meta data-react-helmet="true" content="512" property="og:image:height"/><meta data-react-helmet="true" content="https://conorriches.co.uk/social.png" name="twitter:image"/><meta data-react-helmet="true" content="1024" name="twitter:image:width"/><meta data-react-helmet="true" content="512" name="twitter:image:height"/><meta data-react-helmet="true" content="https://conorriches.co.uk/social.png" property="og:image"/><meta data-react-helmet="true" content="1024" property="og:image:width"/><meta data-react-helmet="true" content="512" property="og:image:height"/><meta data-react-helmet="true" content="#fff" name="msapplication-TileColor"/><meta data-react-helmet="true" content="/icons/mstile-70x70.png" name="msapplication-square70x70"/><meta data-react-helmet="true" content="/icons/mstile-144x144.png" name="msapplication-square144x144"/><meta data-react-helmet="true" content="/icons/mstile-150x150.png" name="msapplication-square150x150"/><meta data-react-helmet="true" content="/icons/mstile-310x150.png" name="msapplication-wide310x150"/><meta data-react-helmet="true" content="/icons/mstile-310x310.png" name="msapplication-square310x310"/><script data-react-helmet="true" type="application/ld+json">[{"@context":"http://schema.org","@type":"WebSite","url":"https://conorriches.co.uk/blog/birdwatching/","name":"notes from the hackerspace","alternateName":"notes from the hackerspace"}]</script><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link as="script" rel="preload" href="/webpack-runtime-ffba1ea36bebd77e63a8.js"/><link as="script" rel="preload" href="/framework-20608c8612c774da44a6.js"/><link as="script" rel="preload" href="/app-1b1b87f41332763c2fb7.js"/><link as="script" rel="preload" href="/styles-e9d24b1846c7d6eb9685.js"/><link as="script" rel="preload" href="/c51c6ee4d4abaee930c3281d92f281b51f89c984-9a70bdb8f19dfb8b2769.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-js-3fd9ce6193f181a507dc.js"/><link as="fetch" rel="preload" href="/page-data\blog\birdwatching\page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/3682878853.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/3729204765.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data\app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div><div><div class="Fade__Wrapper Fade__Wrapper--top"><div class="Fade Fade--millennial"></div></div><div class="Layout"><div><div class="Container"><a href="/"><h1 class="sc-bdVaJa hPECmK">notes from the hackerspace</h1></a><nav class="sc-bwzfXH ilEOJA"><ul><li><a href="/about">About</a></li><li><a href="/blog">Blog</a></li></ul></nav></div><div class="Fade__Wrapper"><div class="Fade Fade--millennial"></div></div></div><div class="Layout__Main"><div><small></small><h1>BirbCam™ - Automatic Birdwatching with Raspberry Pi HQ Camera</h1><div><p>Let's face it, birdwatching takes time. A <strong>lot</strong> of time.</p>
<p>And often, when they know you're waiting they won't show up no matter how much bird food you put out. </p>
<p>So what better to do than to automate the hell out of it? Raspberry Pi's rarely move by their own accord, so they're perfect for setting up without spooking wildlife.</p>
<h2>Project overview</h2>
<p><figure class="gatsby-resp-image-figure" style="">
    <span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/23c9669aaa8fbf1c3f265fd5a855bef3/eea4a/blue.jpg"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAMEAQL/xAAWAQEBAQAAAAAAAAAAAAAAAAABAAL/2gAMAwEAAhADEAAAAZutYZlHE//EABkQAQEBAAMAAAAAAAAAAAAAAAECAAMSIv/aAAgBAQABBQLM5rCd+Z9zJZ//xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAwEBPwFX/8QAFhEBAQEAAAAAAAAAAAAAAAAAABES/9oACAECAQE/AYy//8QAGRAAAgMBAAAAAAAAAAAAAAAAABEBAiEQ/9oACAEBAAY/Au7GDqM//8QAHBABAAICAwEAAAAAAAAAAAAAAQARITFBUYGR/9oACAEBAAE/IQDsiUYbq9RL5ID4UcXpMk7n/9oADAMBAAIAAwAAABA0P//EABcRAAMBAAAAAAAAAAAAAAAAAAEQETH/2gAIAQMBAT8QF1P/xAAZEQACAwEAAAAAAAAAAAAAAAAAAREhMXH/2gAIAQIBAT8QSRenB//EABsQAQEAAwEBAQAAAAAAAAAAAAERACExQVGR/9oACAEBAAE/EIiATNkhhIv3CsVTpMmKEKvd5QhabPhzuKpimje/mf/Z'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="A bluetit, caught with the Raspberry Pi HQ camera"
        title="A bluetit, caught with the Raspberry Pi HQ camera"
        src="/static/23c9669aaa8fbf1c3f265fd5a855bef3/1c72d/blue.jpg"
        srcset="/static/23c9669aaa8fbf1c3f265fd5a855bef3/a80bd/blue.jpg 148w,
/static/23c9669aaa8fbf1c3f265fd5a855bef3/1c91a/blue.jpg 295w,
/static/23c9669aaa8fbf1c3f265fd5a855bef3/1c72d/blue.jpg 590w,
/static/23c9669aaa8fbf1c3f265fd5a855bef3/a8a14/blue.jpg 885w,
/static/23c9669aaa8fbf1c3f265fd5a855bef3/fbd2c/blue.jpg 1180w,
/static/23c9669aaa8fbf1c3f265fd5a855bef3/eea4a/blue.jpg 1280w"
        sizes="(max-width: 590px) 100vw, 590px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span>
    <figcaption class="gatsby-resp-image-figcaption">A bluetit, caught with the Raspberry Pi HQ camera</figcaption>
  </figure></p>
<p>We are going to use a Raspberry Pi with an HQ Camera, paired with TensorFlow Lite machine learning to identify when there's a bird infront of the camera, and take a photo when it sees one.</p>
<p>The camera should be facing something like a birdbath, feeder, or table where birds are likely to visit when left alone. </p>
<p>We are going to use the new <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#libcamera-and-libcamera-apps">libcamera</a> stack - so make sure you have a recent version of Raspberry Pi OS installed and everyting is up to date. </p>
<div style="clear:both"></div>
<h2>Parts required</h2>
<ul>
<li>A Raspberry Pi, with up-to-date OS, connected to</li>
<li>Pi HQ Camera, with a</li>
<li>16mm lens, mounted on a </li>
<li>tripod</li>
</ul>
<p>There's no coding needed to get it up and running, but some proficiency with Raspberry Pi will come in handy.</p>
<h2>Prerequisites</h2>
<p>This guide doesn't cover everything, so here's some good things to start with:</p>
<ul>
<li>Setting up a Raspbery Pi</li>
<li><a href="https://www.raspberrypi.com/documentation/accessories/camera.html#installing-a-raspberry-pi-camera">Installing a Raspberry Pi camera</a></li>
<li>Enabling ssh</li>
<li>Basic linux commands</li>
</ul>
<hr>
<h2>Step one - get the camera working and set up</h2>
<p>First of all, install the camera module, and boot the Raspberry Pi. Use a screen for this step.
<figure class="gatsby-resp-image-figure" style="">
    <span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/d9fea988834fadb2bff7bd72e909ef2d/72e01/water.jpg"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAMBBP/EABYBAQEBAAAAAAAAAAAAAAAAAAIBA//aAAwDAQACEAMQAAABmnhtHCWf/8QAGxAAAgMAAwAAAAAAAAAAAAAAAAIBERITFCH/2gAIAQEAAQUCsaKXLHKkHY81Z//EABcRAAMBAAAAAAAAAAAAAAAAAAEDEGH/2gAIAQMBAT8BK9n/xAAVEQEBAAAAAAAAAAAAAAAAAAABEP/aAAgBAgEBPwEZ/8QAGhAAAgIDAAAAAAAAAAAAAAAAAAECERAhkf/aAAgBAQAGPwITxqylHpbbP//EABoQAQADAQEBAAAAAAAAAAAAAAEAESFRMbH/2gAIAQEAAT8hu0+uzeBt3dIvT9SdTMUHYttFn//aAAwDAQACAAMAAAAQpD//xAAWEQADAAAAAAAAAAAAAAAAAAAAASH/2gAIAQMBAT8QQqKf/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAERQf/aAAgBAgEBPxDBoh//xAAeEAEAAgICAwEAAAAAAAAAAAABABEhMVGBYZGh0f/aAAgBAQABPxBZoMFxfH2Ka/GOA2wEK1si+4sw6v1iHp7yA15qotdbErB3P//Z'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="bird.exe has stopped unexpectedly"
        title="bird.exe has stopped unexpectedly"
        src="/static/d9fea988834fadb2bff7bd72e909ef2d/1c72d/water.jpg"
        srcset="/static/d9fea988834fadb2bff7bd72e909ef2d/a80bd/water.jpg 148w,
/static/d9fea988834fadb2bff7bd72e909ef2d/1c91a/water.jpg 295w,
/static/d9fea988834fadb2bff7bd72e909ef2d/1c72d/water.jpg 590w,
/static/d9fea988834fadb2bff7bd72e909ef2d/a8a14/water.jpg 885w,
/static/d9fea988834fadb2bff7bd72e909ef2d/72e01/water.jpg 1024w"
        sizes="(max-width: 590px) 100vw, 590px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span>
    <figcaption class="gatsby-resp-image-figcaption">bird.exe has stopped unexpectedly</figcaption>
  </figure></p>
<p>To test if the camera works use the pre-installed
<a href="https://www.raspberrypi.com/documentation/accessories/camera.html#libcamera-hello">libcamera-hello</a> by running <code>libcamera-hello -t 0</code></p>
<ul>
<li>This will indefinitely show the camera output to the desktop screen</li>
<li>Play with the camera! </li>
<li>This is a really fun time to see how the lens works, play with adjustment, focus, light levels etc. </li>
</ul>
<p>Save the captured image with <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#libcamera-jpeg">libcamera-jpeg</a> by running <code>libcamera-jpeg -o test.jpg</code>. Practice taking photos and viewing the saved image on the Pi.</p>
<div style="clear:both"></div>
<h3>Copying images from the Pi to another device</h3>
<p>To really enjoy the photos you take with <code>libcamera-jpeg</code> you'll want to copy them to your computer or device. One way is with <code>scp</code>, another is using SFPT.</p>
<p>To do this you'll need the Pi and other device connected to a WiFi router, SSH enabled on the Pi, and a SSH client on your other device:</p>
<ul>
<li>On PC, you can install FileZilla</li>
<li>On mobile, you can install a SSH/SFTP app</li>
</ul>
<p>Once installed:</p>
<ul>
<li>Set up a connection to the Pi using the <a href="https://www.techworked.com/find-ip-address-of-headless-raspberry-pi/">Raspberry Pi's IP address</a>. The username/password is the same as when you SSH into the Pi, default is <code>pi</code>/<code>raspberry</code></li>
<li>Select SFTP</li>
<li>You should see a file listing when you connect</li>
</ul>
<p>Practice copying over photos, it's a bit manual for now but you're now up and running.</p>
<h2>Step two - install TensorFlow Lite</h2>
<p>We need a way to detect birds specifically, so we don't get thousands of images of leaves moving. The first step is to install TensorFlow Lite - this is based on machine learning and can be used to identify when there's a bird infront of the camera. It doesn't know what a bird is, but we can later on give it some models and it'll be able to do the magic needed to then use those models to spot a bird.</p>
<ul>
<li>Follow <a href="https://lindevs.com/install-precompiled-tensorflow-lite-on-raspberry-pi/">the instructions</a> to install TensorFlow Lite.</li>
</ul>
<h2>Step three - rebuild libcamera-apps</h2>
<p>We can use <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#libcamera-detect">libcamera-detect</a> to open the camera up, and plug into TensorFlow Lite to identify when a bird is on screen.  </p>
<p>This does not come pre-built, so we will need to build it, folding in our now-installed TensorFlow Lite installation. </p>
<ul>
<li>
<p>Rebuild libcamera-apps</p>
<ul>
<li>Start by <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#building-libcamera-and-libcamera-apps">rebuilding libcamera-apps without libcamera</a> </li>
<li>Run <code>sudo apt install -y libcamera-dev libepoxy-dev libjpeg-dev libtiff5-dev</code> </li>
</ul>
</li>
<li>
<p>Make sure you continue on to build <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#building-libcamera-apps">libcamera-apps</a></p>
<p>Install the dependencies: <code>sudo apt install -y cmake libboost-program-options-dev libdrm-dev libexif-dev</code></p>
<p>Then you'll need to get prepared to build by downloading the code for <code>libcamera-apps</code>:</p>
<pre><code>cd
git clone https://github.com/raspberrypi/libcamera-apps.git
cd libcamera-apps
mkdir build
cd build
</code></pre>
</li>
<li>
<p>Build it real good</p>
<ul>
<li>Run the command:
<code>cmake .. -DENABLE_DRM=1 -DENABLE_X11=1 -DENABLE_QT=1 -DENABLE_OPENCV=0 -DENABLE_TFLITE=1</code></li>
<li>This last flag means that your installed TensorFlow Lite is enabled with the build, meaning that <code>libcamera-detect</code> will be able to use it.</li>
</ul>
</li>
<li>
<p>Finish the process off</p>
<pre><code>make -j4  # use -j1 on Pi 3 or earlier devices
sudo make install
sudo ldconfig
</code></pre>
</li>
</ul>
<h2>Step Four - when is a bird a bird?</h2>
<p>So far we have most of the pieces in place but the software still doesn't know what a bird is. Therefore, we need a model which describes what a bird is, and fortunately the hard work is done for us as online there exists a library of common objects which has pre-trained models which we can download.</p>
<p>Common Objects In Context (COCO) is a machine learning dataset of common objects (including birds) that we can use without having to train up our own model of a bird. From exploring the dataset, it looks like it will work perfectly.</p>
<p>For example, this image has multiple items identified:
<a href="https://cocodataset.org/#explore?id=12805">https://cocodataset.org/#explore?id=12805</a></p>
<p>The context is nothing if not diverse either:
<a href="https://cocodataset.org/#explore?id=43511">https://cocodataset.org/#explore?id=43511</a></p>
<p>You'll want to download the models and labels file somewhere sensible, I've put them in <code>/home/pi/models</code>:
<a href="https://github.com/EdjeElectronics/TensorFlow-Lite-Object-Detection-on-Android-and-Raspberry-Pi/blob/master/Raspberry_Pi_Guide.md#option-1-using-googles-sample-tflite-model">Follow the instructions here</a></p>
<p>Create a file called <code>object_detect_tf.json</code> and paste the following in:</p>
<pre><code>{
    "object_detect_tf":
    {
        "number_of_threads" : 2,
        "refresh_rate" : 10,
        "confidence_threshold" : 0.5,
        "overlap_threshold" : 0.5,
        "model_file" : "/home/pi/models/coco_ssd_mobilenet_v1_1.0_quant_2018_06_29/detect.tflite",
        "labels_file" : "/home/pi/models/coco_ssd_mobilenet_v1_1.0_quant_2018_06_29/labelmap.txt",
        "verbose" : 1
    }
}
</code></pre>
<h2>Step Five - let's go!</h2>
<p>We now run the command that will:</p>
<ul>
<li>start the camera</li>
<li>start watching for birds</li>
<li>take a photo when one is identified</li>
</ul>
<p>That's done by running the following command:
<code>libcamera-detect -t 0 -o birb%04d.jpg --lores-width 400 --lores-height 300 --post-process-file object_detect_tf.json --object bird</code></p>
<ul>
<li>
<p><code>-t 0</code> </p>
<ul>
<li>time is zero</li>
</ul>
</li>
<li>
<p><code>-o birb%04d.jpg</code></p>
<ul>
<li>Output file is a 4 digit number that increments. This means you don't have to overwrite images or work out what to name them - it does it for you</li>
</ul>
</li>
<li>
<p><code>--lores-width</code>/<code>--lores-height</code> </p>
<ul>
<li>This is the image sized used by TensorFlow to detect birds. When it recognises a bird, it'll then take a full scale photo.</li>
</ul>
</li>
<li>
<p><code>--post-process-file object_detect_tf.json</code></p>
<ul>
<li>we are telling it what to do</li>
</ul>
</li>
<li>
<p>--object bird</p>
<ul>
<li>telling it what to look out for! </li>
</ul>
</li>
</ul>
<h2>Moving on...</h2>
<p>This is just the start of the project, it's rough and ready but works with really good results. </p>
<p>How about:</p>
<ul>
<li>Making it post to Telegram when a bird is identified?</li>
<li>Making this setup work as a security camera (setting <code>--object person</code>)</li>
<li>
<p>Recording a short video when a bird is detected</p>
<ul>
<li>How about getting it to pre-record 5s before?</li>
</ul>
</li>
<li>Auto-cropping the image with the bird in the centre?</li>
<li>Using OpenCV to draw on the images</li>
</ul>
<p>There's also a load of other options on the utilities above to play around with.</p>
<p>And this is all without having to write a script!</p>
<p>Hope you enjoy your time in the garden with birds!</p></div></div></div></div></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/blog/birdwatching/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-1710eb3daa040b8ff904.js"],"app":["/app-1b1b87f41332763c2fb7.js"],"component---node-modules-gatsby-plugin-offline-app-shell-js":["/component---node-modules-gatsby-plugin-offline-app-shell-js-0f40d706ebc58d78c1f6.js"],"component---src-pages-404-js":["/component---src-pages-404-js-9da3429b93557e4a0fa8.js"],"component---src-pages-about-js":["/component---src-pages-about-js-bc4c225305cdcdbc5b27.js"],"component---src-pages-blog-js":["/component---src-pages-blog-js-a9a991e22f46336b771e.js"],"component---src-pages-index-js":["/component---src-pages-index-js-b5a2a82c82333a74927d.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-3fd9ce6193f181a507dc.js"]};/*]]>*/</script><script src="/polyfill-1710eb3daa040b8ff904.js" nomodule=""></script><script src="/component---src-templates-blog-post-js-3fd9ce6193f181a507dc.js" async=""></script><script src="/c51c6ee4d4abaee930c3281d92f281b51f89c984-9a70bdb8f19dfb8b2769.js" async=""></script><script src="/styles-e9d24b1846c7d6eb9685.js" async=""></script><script src="/app-1b1b87f41332763c2fb7.js" async=""></script><script src="/framework-20608c8612c774da44a6.js" async=""></script><script src="/webpack-runtime-ffba1ea36bebd77e63a8.js" async=""></script></body></html>